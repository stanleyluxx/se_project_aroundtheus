!function(){"use strict";class e{constructor(e,t,s,n,r){this._name=e.name,this._link=e.link,this._id=e._id,this._isLiked=e.isLiked,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteClick=n,this._handleLikeClick=r,this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button")}_setEventListeners(){this._likeButton.addEventListener("click",e=>{e.stopPropagation(),this._handleLikeClick(this._id,this._likeButton)}),this._deleteButton.addEventListener("click",e=>{e.stopPropagation(),this._handleDeleteClick(this._id,this._cardElement)}),this._cardElement.addEventListener("click",()=>{this._handleImageClick(this._name,this._link)})}_handleLikeIcon(){this._likeButton.classList.toggle("card__like-button_active")}getView(){return this._cardTitleEl.textContent=this._name,this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._isLiked&&this._likeButton.classList.add("card__like-button_active"),this._setEventListeners(),this._cardElement}}class t{constructor({inputSelector:e,submitButtonSelector:t,inactiveButtonClass:s,inputErrorClass:n,errorClass:r},i){this._inputSelector=e,this._submitButtonSelector=t,this._inactiveButtonClass=s,this._inputErrorClass=n,this._errorClass=r,this._form=i,this._inputElements=Array.from(this._form.querySelectorAll(this._inputSelector)),this._submitButton=this._form.querySelector(t)}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t&&(t.textContent=e.validationMessage,t.classList.add(this._errorClass))}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t&&(t.textContent="",t.classList.remove(this._errorClass))}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_hasInvalidInput(){return this._inputElements.some(e=>!e.validity.valid)}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton()}_setEventListeners(){this._inputElements.forEach(e=>{e.addEventListener("input",()=>{this._checkInputValidity(e),this._toggleButtonState()})}),this._form.addEventListener("submit",e=>{e.preventDefault()}),this._toggleButtonState()}enableValidation(){this._setEventListeners()}resetValidation(){this._inputElements.forEach(e=>{this._hideInputError(e)}),this._toggleButtonState()}}class s{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popup.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popup.querySelector(".modal__close-button").addEventListener("click",()=>this.close()),this._popup.addEventListener("mousedown",e=>{e.target===this._popup&&this.close()})}}var n=class extends s{constructor(e,t){super(e),this._handleFormSubmit=t,this._form=this._popup.querySelector(".modal__form"),this._inputList=this._form.querySelectorAll(".modal__input"),this._submitButton=this._form.querySelector(".modal__button"),this._submitButtonText=this._submitButton.textContent}renderLoading(e,t="Saving..."){this._submitButton.textContent=e?t:this._submitButtonText}_getInputValues(){const e={};return this._inputList.forEach(t=>{e[t.name]=t.value}),e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())})}close(){super.close(),this._form.reset()}};const r={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},i=document.querySelector("#open-edit-btn"),o=document.querySelector("#open-add-btn"),a=document.querySelector(".profile__avatar-edit-button"),l=(document.querySelector(".profile__title"),document.querySelector(".profile__description"),document.querySelector(".modal__input-type-title")),d=document.querySelector(".modal__input-type-description"),c=document.querySelector("#modal-edit-form"),h=document.querySelector("#modal-create-form"),_=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_handleResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleResponse)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleResponse)}updateUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._handleResponse)}addCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._handleResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleResponse)}addLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._handleResponse)}removeLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._handleResponse)}updateAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._handleResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"5cdcdfef-c3b6-49d6-830b-7f0207542704","Content-Type":"application/json"}}),u=new class{constructor({nameSelector:e,jobSelector:t,avatarSelector:s}){this._nameElement=document.querySelector(e),this._jobElement=document.querySelector(t),this._avatarElement=document.querySelector(s)}getUserInfo(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}setUserInfo({name:e,job:t}){e&&(this._nameElement.textContent=e),t&&(this._jobElement.textContent=t)}setUserAvatar(e){this._avatarElement.src=e}}({nameSelector:".profile__title",jobSelector:".profile__description",avatarSelector:".profile__avatar"}),m=new class{constructor({renderer:e},t){this._renderer=e,this._container=document.querySelector(t)}renderItems(e){e.forEach(e=>{const t=this._renderer(e);this.addItem(t)})}addItem(e){this._container.prepend(e)}}({renderer:e=>p(e)},".cards__list");function p(t){return new e(t,"#card-template",C,k,y).getView()}_.getAppInfo().then(([e,t])=>{u.setUserInfo({name:e.name,job:e.about}),m.renderItems(t),u.setUserAvatar(e.avatar)}).catch(e=>console.error(e));const E=new class extends s{constructor(e){super(e),this._imageElement=this._popup.querySelector(".modal__image"),this._captionElement=this._popup.querySelector(".modal__image-caption")}open({name:e,link:t}){this._imageElement.src=t,this._imageElement.alt=e,this._captionElement.textContent=e,super.open()}}("#image-popup");E.setEventListeners();const v=new n("#modal-edit",e=>{v.renderLoading(!0),_.updateUserInfo({name:e.title,about:e.description}).then(e=>{u.setUserInfo({name:e.name,job:e.about}),v.close()}).catch(e=>console.error(e)).finally(()=>{v.renderLoading(!1)})});v.setEventListeners();const b=new n("#modal-avatar",e=>{b.renderLoading(!0),_.updateAvatar(e.avatar).then(e=>{u.setUserAvatar(e.avatar),b.close()}).catch(e=>console.error(e)).finally(()=>{b.renderLoading(!1)})});b.setEventListeners(),a.addEventListener("click",()=>{b.open()});let f=null,L=null;const S=new class extends s{constructor(e,t){super(e),this._handleConfirm=t,this._form=this._popup.querySelector(".modal__form")}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",e=>{e.preventDefault(),this._handleConfirm()})}}("#delete-card-popup",e=>{_.deleteCard(f).then(()=>{L.remove(),S.close()}).catch(e=>console.error(e))});function k(e,t){f=e,L=t,S.open()}function y(e,t){t.classList.contains("card__like-button_active")?_.removeLike(e).then(e=>{t.classList.remove("card__like-button_active")}).catch(e=>console.error(e)):_.addLike(e).then(e=>{t.classList.add("card__like-button_active")}).catch(e=>console.error(e))}S.setEventListeners();const g=new t(r,c);function C(e,t){E.open({name:e,link:t})}g.enableValidation(),new t(r,h).enableValidation();const I=new n("#modal-add",e=>{_.addCard({name:e.title,link:e.link}).then(e=>{const t=p(e);m.addItem(t),I.close()}).catch(e=>{console.error("Failed to add card:",e)})});I.setEventListeners(),o.addEventListener("click",()=>{I.open()}),i.addEventListener("click",()=>{const e=u.getUserInfo();l.value=e.name,d.value=e.job,g.resetValidation(),v.open()})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQ0wsTUFBTUMsRUFBaUI1QixFQUFXMkIsR0FDbEN0QyxFQUFZUyxRQUFROEIsR0FDcEJGLEVBQWE3RyxVQUVkc0YsTUFBT0MsSUFDTkMsUUFBUUMsTUFBTSxzQkFBdUJGLE9BR3pDc0IsRUFBYXpHLG9CQUVia0IsRUFBVTlFLGlCQUFpQixRQUFTLEtBQ2xDcUssRUFBYTlHLFNBR2ZzQixFQUFXN0UsaUJBQWlCLFFBQVMsS0FDbkMsTUFBTXdLLEVBQWtCbEQsRUFBU25CLGNBQ2pDbkIsRUFBa0JQLE1BQVErRixFQUFnQjVMLEtBQzFDcUcsRUFBd0JSLE1BQVErRixFQUFnQjNDLElBRWhEdUMsRUFBa0JuSCxrQkFFbEJvRyxFQUFpQjlGLFEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9JbnNlcnQgcHJvamVjdCBuYW1lLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9JbnNlcnQgcHJvamVjdCBuYW1lLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9JbnNlcnQgcHJvamVjdCBuYW1lLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vSW5zZXJ0IHByb2plY3QgbmFtZS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL0luc2VydCBwcm9qZWN0IG5hbWUvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL0luc2VydCBwcm9qZWN0IG5hbWUvLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vSW5zZXJ0IHByb2plY3QgbmFtZS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9JbnNlcnQgcHJvamVjdCBuYW1lLy4vc3JjL3V0aWxzL0FwaS5qcyIsIndlYnBhY2s6Ly9JbnNlcnQgcHJvamVjdCBuYW1lLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vSW5zZXJ0IHByb2plY3QgbmFtZS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vSW5zZXJ0IHByb2plY3QgbmFtZS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5faXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG5cbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiXG4gICAgKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvLyAuY2FyZC1saWtlLWJ1dHRvblxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcy5faWQsIHRoaXMuX2xpa2VCdXR0b24pO1xuICAgIH0pO1xuXG4gICAgLy8gLmNhcmQtZGVsZXRlLWJ1dHRvblxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMuX2lkLCB0aGlzLl9jYXJkRWxlbWVudCk7IC8vIG9wZW4gcG9wdXBcbiAgICB9KTtcblxuICAgIC8vIGhhbmRsZUltYWdlQ2xpY2tcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlSWNvbigpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH1cblxuICBnZXRWaWV3KCkge1xuICAgIHRoaXMuX2NhcmRUaXRsZUVsLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFsdCA9IHRoaXMuX25hbWU7XG5cbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAge1xuICAgICAgaW5wdXRTZWxlY3RvcixcbiAgICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yLFxuICAgICAgaW5hY3RpdmVCdXR0b25DbGFzcyxcbiAgICAgIGlucHV0RXJyb3JDbGFzcyxcbiAgICAgIGVycm9yQ2xhc3MsXG4gICAgfSxcbiAgICBmb3JtRWxlbWVudFxuICApIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBpbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gZXJyb3JDbGFzcztcblxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxuICAgICk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuXG4gICAgaWYgKGVycm9yTWVzc2FnZUVsZW1lbnQpIHtcbiAgICAgIGVycm9yTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgICBlcnJvck1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG5cbiAgICBpZiAoZXJyb3JNZXNzYWdlRWxlbWVudCkge1xuICAgICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICBlcnJvck1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgX2VuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0RWxlbWVudHMuc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy8gQ2xvc2UgYnV0dG9uXG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idXR0b25cIik7XG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XG4gICAgLy8gT3ZlcmxheSBjbGlja1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQgPT09IHRoaXMuX3BvcHVwKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FwdGlvbkVsZW1lbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1jYXB0aW9uXCIpO1xuICB9XG4gIG9wZW4oe25hbWUsIGxpbmt9KSB7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fY2FwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xuXG4gICAgc3VwZXIub3BlbigpO1xuXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gIH1cbiAgLy8gc2hvdyBsb2FkaW5nIHN0YXRlXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nLCBsb2FkaW5nVGV4dCA9IFwiU2F2aW5nLi4uXCIpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dDtcbiAgICB9XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3JtVmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtO1xuIiwiXG4vLyBGb3JtIFZhbGlkYXRvciBzZXR0aW5nc1xuZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbi8vIERPTSBFbGVtZW50c1xuZXhwb3J0IGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI29wZW4tZWRpdC1idG5cIik7XG5leHBvcnQgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNvcGVuLWFkZC1idG5cIik7XG5leHBvcnQgY29uc3QgYXZhdGFyRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWVkaXQtYnV0dG9uXCIpO1xuXG5cbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbnB1dC10eXBlLXRpdGxlXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW5wdXQtdHlwZS1kZXNjcmlwdGlvblwiKTtcblxuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWVkaXQtZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWNyZWF0ZS1mb3JtXCIpO1xuXG5leHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlU2VsZWN0b3IgPSBcIiNjYXJkLXRlbXBsYXRlXCI7IiwiLy9JbXBvcnRzXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQge1xuICBzZXR0aW5ncyxcbiAgZWRpdEJ1dHRvbixcbiAgYWRkQnV0dG9uLFxuICBhdmF0YXJFZGl0QnV0dG9uLFxuICBwcm9maWxlVGl0bGVJbnB1dCxcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQsXG4gIGVkaXRQcm9maWxlRm9ybUVsZW1lbnQsXG4gIGFkZENhcmRGb3JtRWxlbWVudCxcbiAgY2FyZFRlbXBsYXRlU2VsZWN0b3IsXG59IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xuXG4vL0FQSSBJbnN0YW5jZSBBbmQgTWV0aG9kIENhbGxzXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjVjZGNkZmVmLWMzYjYtNDlkNi04MzBiLTdmMDIwNzU0MjcwNFwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gfVxufSk7XG5cbi8vVXNlckluZm8gSW5zdGFuY2VcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxuICBqb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2F2YXRhclwiXG59KTtcblxuLy9TZWN0aW9uIENsYXNzIEluc3RhbmNlXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoaXRlbSk7XG4gICAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gICAgfSxcbiAgfSxcbiAgXCIuY2FyZHNfX2xpc3RcIlxuKTtcblxuYXBpLmdldEFwcEluZm8oKVxuICAudGhlbigoW3VzZXJEYXRhLCBjYXJkc10pID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxuICAgICAgam9iOiB1c2VyRGF0YS5hYm91dCxcbiAgICB9KTtcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkcyk7XG4gICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyRGF0YS5hdmF0YXIpO1xuICB9KVxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgY2FyZFRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2ssIGhhbmRsZURlbGV0ZUNsaWNrLCBoYW5kbGVMaWtlQ2xpY2spO1xuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XG59XG5cbi8vcG9wdXBXaXRoSW1hZ2UgaW5zdGFuY2VcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjaW1hZ2UtcG9wdXBcIik7XG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIEVkaXQgUHJvZmlsZSBQb3B1cFxuY29uc3QgZWRpdFByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI21vZGFsLWVkaXRcIiwgKGZvcm1EYXRhKSA9PiB7XG4gIGVkaXRQcm9maWxlUG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpLnVwZGF0ZVVzZXJJbmZvKHtcbiAgICBuYW1lOiBmb3JtRGF0YVtcInRpdGxlXCJdLFxuICAgIGFib3V0OiBmb3JtRGF0YVtcImRlc2NyaXB0aW9uXCJdLFxuICB9KVxuICAudGhlbigodXBkYXRlZFVzZXIpID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxuICAgICAgam9iOiB1cGRhdGVkVXNlci5hYm91dCxcbiAgICB9KTtcbiAgICBlZGl0UHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpXG4gIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGVkaXRQcm9maWxlUG9wdXAucmVuZGVyTG9hZGluZyhmYWxzZSk7XG59KTtcbn0pO1xuZWRpdFByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBBdmF0YXJQb3B1cCBpbnN0YW5jZVxuY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNtb2RhbC1hdmF0YXJcIiwgKGZvcm1EYXRhKSA9PiB7XG4gIGF2YXRhclBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaS51cGRhdGVBdmF0YXIoZm9ybURhdGEuYXZhdGFyKVxuICAgIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyRGF0YS5hdmF0YXIpOyAvLyB1cGRhdGUgRE9NXG4gICAgICBhdmF0YXJQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn0pO1xuYXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuYXZhdGFyRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhdmF0YXJQb3B1cC5vcGVuKCk7XG59KTtcblxuLy9EZWxldGVQb3B1cCBJbnN0YW5jZVxubGV0IGN1cnJlbnRDYXJkSWQgPSBudWxsO1xubGV0IGN1cnJlbnRDYXJkRWxlbWVudCA9IG51bGw7XG5cbmNvbnN0IGRlbGV0ZVBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcIiNkZWxldGUtY2FyZC1wb3B1cFwiLCAoZm9ybURhdGEpID0+IHtcbiAgYXBpLmRlbGV0ZUNhcmQoY3VycmVudENhcmRJZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjdXJyZW50Q2FyZEVsZW1lbnQucmVtb3ZlKCk7IC8vIHJlbW92ZSB0aGUgY2FyZCBmcm9tIHRoZSBET01cbiAgICAgIGRlbGV0ZVBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcbn0pO1xuZGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soY2FyZElkLCBjYXJkRWxlbWVudCkge1xuICBjdXJyZW50Q2FyZElkID0gY2FyZElkO1xuICBjdXJyZW50Q2FyZEVsZW1lbnQgPSBjYXJkRWxlbWVudDtcbiAgZGVsZXRlUG9wdXAub3BlbigpO1xufVxuXG4vL2hhbmRsZS1MaWtlIENsaWNrIGluc3RhbmNlXG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkSWQsIGxpa2VCdXR0b24pIHtcbiAgaWYgKGxpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpKSB7XG4gICAgYXBpLnJlbW92ZUxpa2UoY2FyZElkKVxuICAgICAgLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiB7XG4gICAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcbiAgfSBlbHNlIHtcbiAgICBhcGkuYWRkTGlrZShjYXJkSWQpXG4gICAgICAudGhlbigodXBkYXRlZENhcmQpID0+IHtcbiAgICAgICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xuICB9XG59XG5cbi8vRm9ybVZhbGlkYXRvciBDbGFzcyBJbnN0YW5jZVxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgZWRpdFByb2ZpbGVGb3JtRWxlbWVudCk7XG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGFkZENhcmRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgYWRkQ2FyZEZvcm1FbGVtZW50KTtcbmFkZENhcmRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKG5hbWUsIGxpbmspIHtcbiAgaW1hZ2VQb3B1cC5vcGVuKHsgbmFtZSwgbGluayB9KTtcbn1cblxuLy8gQWRkIENhcmQgUG9wdXBcbmNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI21vZGFsLWFkZFwiLCAoZm9ybURhdGEpID0+IHtcbiAgYXBpLmFkZENhcmQoe1xuICAgIG5hbWU6IGZvcm1EYXRhW1widGl0bGVcIl0sXG4gICAgbGluazogZm9ybURhdGFbXCJsaW5rXCJdLFxuICB9KVxuICAudGhlbigoY2FyZERhdGEpID0+IHtcbiAgICBjb25zdCBuZXdDYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xuICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0obmV3Q2FyZEVsZW1lbnQpO1xuICAgIGFkZENhcmRQb3B1cC5jbG9zZSgpOyAvLyBjbG9zZSBtb2RhbCBhZnRlciBzdWNjZXNzXG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBhZGQgY2FyZDpcIiwgZXJyKTtcbiAgfSk7XG59KTtcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcbn0pO1xuXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRVc2VySW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVUaXRsZUlucHV0LnZhbHVlID0gY3VycmVudFVzZXJJbmZvLm5hbWU7XG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gY3VycmVudFVzZXJJbmZvLmpvYjtcblxuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcblxuICBlZGl0UHJvZmlsZVBvcHVwLm9wZW4oKTtcbn0pO1xuXG5cblxuIiwiZXhwb3J0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIH1cblxuICBfaGFuZGxlUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG5nZXRBcHBJbmZvKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VySW5mbygpLCB0aGlzLmdldEluaXRpYWxDYXJkcygpXSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICAgdXBkYXRlVXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBhYm91dCB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5kZWxldGVDYXJkKGNhcmRJZCkge1xuICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbn1cblxuYWRkTGlrZShjYXJkSWQpIHtcbiAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG59XG5cbnJlbW92ZUxpa2UoY2FyZElkKSB7XG4gIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xufVxuXG51cGRhdGVBdmF0YXIoYXZhdGFyVXJsKSB7XG4gIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBhdmF0YXI6IGF2YXRhclVybCxcbiAgICB9KSxcbiAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG59XG5cbn1cbiIsImV4cG9ydCBkZWZhdWx0ICBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHtuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcn0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9qb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG5yZXR1cm4ge1xuICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcbiAgam9iOiB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50LFxufTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHtuYW1lLCBqb2J9KSB7XG5pZiAobmFtZSkgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xuaWYgKGpvYikgdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGpvYjtcbiAgfVxuXG4gIHNldFVzZXJBdmF0YXIoYXZhdGFyKSB7XG4gIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xufVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgICAgdGhpcy5hZGRJdGVtKGVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlQ29uZmlybSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUNvbmZpcm0gPSBoYW5kbGVDb25maXJtO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVDb25maXJtKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoQ29uZmlybWF0aW9uOyJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9pZCIsIl9pc0xpa2VkIiwiaXNMaWtlZCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfY2FyZEVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRJbWFnZUVsIiwiX2NhcmRUaXRsZUVsIiwiX2xpa2VCdXR0b24iLCJfZGVsZXRlQnV0dG9uIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiX2hhbmRsZUxpa2VJY29uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZ2V0VmlldyIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0IiwiYWRkIiwiRm9ybVZhbGlkYXRvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX2Zvcm0iLCJfaW5wdXRFbGVtZW50cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJyZW1vdmUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9kaXNhYmxlQnV0dG9uIiwiZGlzYWJsZWQiLCJfZW5hYmxlQnV0dG9uIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJvcGVuIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dExpc3QiLCJfc3VibWl0QnV0dG9uVGV4dCIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsImZvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicmVzZXQiLCJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJhdmF0YXJFZGl0QnV0dG9uIiwicHJvZmlsZVRpdGxlSW5wdXQiLCJwcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsImVkaXRQcm9maWxlRm9ybUVsZW1lbnQiLCJhZGRDYXJkRm9ybUVsZW1lbnQiLCJhcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2hhbmRsZVJlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEFwcEluZm8iLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsInVwZGF0ZVVzZXJJbmZvIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFkZENhcmQiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwiYWRkTGlrZSIsInJlbW92ZUxpa2UiLCJ1cGRhdGVBdmF0YXIiLCJhdmF0YXJVcmwiLCJhdmF0YXIiLCJhdXRob3JpemF0aW9uIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2pvYkVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsImpvYiIsInNldFVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsImNhcmRTZWN0aW9uIiwicmVuZGVyZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW1zIiwiaXRlbSIsImVsZW1lbnQiLCJhZGRJdGVtIiwicHJlcGVuZCIsImNyZWF0ZUNhcmQiLCJ1c2VyRGF0YSIsImNhcmRzIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJpbWFnZVBvcHVwIiwiX2ltYWdlRWxlbWVudCIsIl9jYXB0aW9uRWxlbWVudCIsImVkaXRQcm9maWxlUG9wdXAiLCJQb3B1cFdpdGhGb3JtIiwiZm9ybURhdGEiLCJ1cGRhdGVkVXNlciIsImZpbmFsbHkiLCJhdmF0YXJQb3B1cCIsImN1cnJlbnRDYXJkSWQiLCJjdXJyZW50Q2FyZEVsZW1lbnQiLCJkZWxldGVQb3B1cCIsImhhbmRsZUNvbmZpcm0iLCJfaGFuZGxlQ29uZmlybSIsImNhcmRFbGVtZW50IiwibGlrZUJ1dHRvbiIsImNvbnRhaW5zIiwidXBkYXRlZENhcmQiLCJlZGl0Rm9ybVZhbGlkYXRvciIsImFkZENhcmRQb3B1cCIsImNhcmREYXRhIiwibmV3Q2FyZEVsZW1lbnQiLCJjdXJyZW50VXNlckluZm8iXSwic291cmNlUm9vdCI6IiJ9